(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const a=document.getElementById("texts"),d=document.getElementById("generate"),p=document.getElementById("temperature"),f=document.getElementById("max-tokens"),m=document.getElementById("presence-penalty"),c={generating:!1};d.addEventListener("click",async()=>{var e;if(!c.generating)c.generating=!0,a.disabled=!0,d.textContent="⏸ Stop";else{c.generating=!1,a.disabled=!1,d.textContent="▶ Generate";return}const o=a.value,r=(e=(await fetch("https://deepseeon-proxy-cppwvvnmju.cn-hangzhou.fcapp.run/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",prompt:o,echo:!1,frequency_penalty:0,logprobs:0,max_tokens:parseFloat(f.value),presence_penalty:parseFloat(m.value),stop:null,stream:!0,stream_options:null,suffix:null,temperature:parseFloat(p.value),top_p:1})})).body)==null?void 0:e.getReader(),l=new TextDecoder;e:for(;;){const{done:t,value:s}=await r.read();if(t||!c.generating)break;const g=l.decode(s).trim().split("data: ");for(let i of g){if(i.length<=1)continue;if(i==="[DONE]")break e;console.log(i);const y=JSON.parse(i);a.value+=y.choices[0].text}}c.generating=!1,a.disabled=!1,d.textContent="▶ Generate"});function u(o,n){const r=n.textContent;n.textContent=`${r}: ${o.value}`,o.addEventListener("input",()=>{n.textContent=`${r}: ${o.value}`})}u(p,document.getElementById("temperature-label"));u(f,document.getElementById("max-tokens-label"));u(m,document.getElementById("presence-penalty-label"));
